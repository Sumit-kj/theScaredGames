<div class="lobby">
    <mat-card class="lobby-card-players">
        <mat-card-header>
            <mat-card-title>Joined Players</mat-card-title>
        </mat-card-header>
        <mat-card-content>
            <mat-list>
                <mat-list-item *ngFor="let player of joinedArray">
                    <img src="{{avatarArray[player]}}" class="circleImage">{{player}} <i class="material-icons tickmark">done</i>
                </mat-list-item>
            </mat-list>
        </mat-card-content>
    </mat-card>
        
    <mat-card class="lobby-card-character">
        <mat-card-header>
            <mat-card-title>Customize your character {{user.username}}</mat-card-title>
        </mat-card-header>
        
        <mat-card-content>
            <mat-card class="card" *ngIf="isAvatarNotSet">
                <mat-card-header>
                    <mat-card-title>Select an avatar</mat-card-title>
                </mat-card-header>
                <mat-card-content class="avatar-grid">
                            <img (click)="setAvatar($event.target)" src="https://api.adorable.io/avatars/100/abe@adorable.png" class="circle-image-selection">
                            <img (click)="setAvatar($event.target)" src="https://api.adorable.io/avatars/100/abott@adorable.png" class="circle-image-selection">
                            <img (click)="setAvatar($event.target)" src="https://api.adorable.io/avatars/100/ab@adorable.png" class="circle-image-selection">
                            <img (click)="setAvatar($event.target)" src="https://freaky5.com/wp-content/uploads/2018/07/SARDAR_KHAN-1024x682.jpg" class="circle-image-selection">
                            <img (click)="setAvatar($event.target)" src="https://api.adorable.io/avatars/100/kartik@adorable.png" class="circle-image-selection">
                            <img (click)="setAvatar($event.target)" src="https://api.adorable.io/avatars/100/ankit@adorable.png" class="circle-image-selection">
                            <img (click)="setAvatar($event.target)" src="https://api.adorable.io/avatars/100/at@adorable.png" class="circle-image-selection">
                            <img (click)="setAvatar($event.target)" src="https://api.adorable.io/avatars/100/aot@adorable.png" class="circle-image-selection">
                            <img (click)="setAvatar($event.target)" src="https://api.adorable.io/avatars/100/abo@adorable.png" class="circle-image-selection">
                            <img (click)="setAvatar($event.target)" src="https://api.adorable.io/avatars/100/abtt@adorable.png" class="circle-image-selection">
                </mat-card-content>
            </mat-card>

                <mat-card *ngIf="!isAvatarNotSet">
                        <mat-card-header>
                            <mat-card-title>Invite your Friends!</mat-card-title>
                            <mat-card-subtitle>Send them the link below</mat-card-subtitle>
                        </mat-card-header>
                        <mat-card-content>
                            <h3>{{ inviteUrl }}</h3>
                        </mat-card-content>
                        <mat-card-actions>
                            <a href="mailto:?subject=join my session on scared games!&body={{inviteUrl}}" mat-icon-button aria-label="E-mail Link">
                                <i class="material-icons">mail_outline</i>
                            </a>
                        </mat-card-actions>
                    </mat-card>

                <div class="role">
                    <img class="role-card" [src] ="cardImage" />
                    <div class="buttons">
                        <button class="full-width-button mat-raised-button" (click)="onReady()" [ngStyle]="{color:(!isReady)?'greenyellow':'crimson'}" [disabled]="isReady" [textContent]="playerState"></button>
                        <!-- mat-raised-button -->
                        <!-- routerLink="/game" -->
                    </div>
                    <div *ngIf ="roleVisibility" style="display: inline">
                    <p>You are a <span>{{role}}</span></p>
                    </div>
                </div>
            </mat-card-content>
        </mat-card>
</div>